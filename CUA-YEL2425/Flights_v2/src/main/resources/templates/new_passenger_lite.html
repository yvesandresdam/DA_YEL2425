<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Crear Pasajero</title>
</head>
<body>
<button id="addPassenger">Crear Pasajero</button>

<script>
    document.getElementById("addPassenger").addEventListener("click", function () {
        const data = new URLSearchParams({
            firstname: "Jan",
            lastname: "Fial",
            passportno: "c12345655",
            address: "AvLejanaAlFinal745",
            phone: "+34122456759",
            sex: "M"
        });

        fetch("http://localhost:8080/flights_api/Web/Passenger/NewPassenger/Create", {
            method: "POST",
            headers: {
                "Content-Type": "application/x-www-form-urlencoded"
            },
            body: data.toString()
        })
            .then(response => {
                if (response.ok) {
                    alert("Pasajero creado con Ã©xito");
                } else {
                    return response.text().then(text => { throw new Error(text); });
                }
            })
            .catch(error => {
                alert("Error al crear pasajero:\n" + error.message);
                console.error(error);
            });
    });
</script>
</body>
</html>